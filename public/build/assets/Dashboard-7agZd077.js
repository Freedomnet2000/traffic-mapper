import{r,j as e,$ as o}from"./app-BBUOm-v-.js";import{A as n}from"./AuthenticatedLayout-CS51kRZn.js";import x from"./StatsChart-BEtZTdg0.js";import m from"./ActionPieChart-BxYICSDx.js";import h from"./ActionChart-Dt_qSPnN.js";import j from"./FailureTable-BB4Ojqqw.js";import"./ApplicationLogo-Tam4N1ES.js";import"./transition-CG4uMkqp.js";import"./generateCategoricalChart-D_zPcsKj.js";import"./BarChart-BcxcfrsM.js";function A({user:a,mappings:d=[],stats:t={}}){const[i,l]=r.useState(!1);return e.jsxs(n,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),children:[e.jsx(o,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:[(a==null?void 0:a.role)==="admin"&&t&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-100 p-4 rounded shadow text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:"✅ Success"}),e.jsx("div",{className:"text-2xl font-bold",children:t.success||0})]}),e.jsxs("div",{onClick:()=>l(!0),className:"bg-red-100 p-4 rounded shadow text-center cursor-pointer hover:bg-red-200 transition",children:[e.jsx("div",{className:"text-lg font-semibold",children:"❌ Failed"}),e.jsx("div",{className:"text-2xl font-bold",children:t.failed||0})]}),e.jsxs("div",{className:"bg-blue-100 p-4 rounded shadow text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:"🔁 Actions"}),e.jsx("div",{className:"text-sm mt-1",children:t.by_action&&Object.entries(t.by_action).map(([s,c])=>e.jsxs("div",{children:[s,": ",c]},s))})]})]}),i&&(a==null?void 0:a.role)==="admin"&&e.jsx(j,{onClose:()=>l(!1)}),(a==null?void 0:a.role)==="admin"&&e.jsx(x,{}),(a==null?void 0:a.role)==="admin"&&e.jsx(h,{}),(a==null?void 0:a.role)==="admin"&&e.jsx(m,{}),(a==null?void 0:a.role)==="admin"&&d&&e.jsx("div",{className:"overflow-hidden bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Recent Mappings"}),e.jsx("div",{className:"overflow-auto rounded shadow border",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Keyword"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Src"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Creative"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Our Param"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Created"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:d.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.keyword}),e.jsx("td",{className:"px-4 py-2",children:s.src}),e.jsx("td",{className:"px-4 py-2",children:s.creative}),e.jsx("td",{className:"px-4 py-2 font-mono",children:s.our_param}),e.jsx("td",{className:"px-4 py-2",children:new Date(s.created_at).toLocaleString()})]},s.our_param))})]})})]})})]})})]})}export{A as default};
