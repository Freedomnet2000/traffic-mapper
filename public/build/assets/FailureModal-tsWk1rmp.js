import{r,a as d,j as e}from"./app-Dy26nvZF.js";function x({onClose:s}){const[a,l]=r.useState([]);return r.useEffect(()=>{d.get("/admin/failures").then(t=>l(t.data)).catch(t=>console.error("Failed to fetch failures",t))},[]),e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-6xl max-h-[90vh] overflow-auto rounded-xl shadow-lg p-6 relative animate-fade-in",children:[e.jsx("button",{onClick:s,className:"absolute top-3 right-4 text-gray-500 hover:text-red-500 text-xl font-bold",children:"×"}),e.jsx("h3",{className:"text-2xl font-bold mb-4 text-red-600",children:"❌ Recent Failed Requests"}),e.jsxs("table",{className:"w-full text-sm table-auto border border-gray-200 rounded overflow-hidden",children:[e.jsx("thead",{className:"bg-red-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 text-left",children:"Endpoint"}),e.jsx("th",{className:"p-2 text-left",children:"Action"}),e.jsx("th",{className:"p-2 text-left",children:"IP"}),e.jsx("th",{className:"p-2 text-left",children:"Status"}),e.jsx("th",{className:"p-2 text-left",children:"Params"}),e.jsx("th",{className:"p-2 text-left",children:"Date"})]})}),e.jsx("tbody",{children:a.map((t,c)=>e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"p-2",children:t.endpoint}),e.jsx("td",{className:"p-2",children:t.action}),e.jsx("td",{className:"p-2",children:t.ip}),e.jsx("td",{className:"p-2",children:t.status}),e.jsx("td",{className:"p-2 font-mono text-xs text-gray-700 whitespace-pre-wrap break-all bg-gray-50 rounded",children:n(t.params)}),e.jsx("td",{className:"p-2",children:new Date(t.created_at).toLocaleString()})]},c))})]})]})})}function n(s){try{const a=JSON.parse(s);return JSON.stringify(a,null,2)}catch{return s||"-"}}export{x as default};
